{"ast":null,"code":"/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = function (args) {\n    let now = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Date.now();\n    timestamp = now;\n    lastArgs = null;\n\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n\n    fn(...args);\n  };\n\n  const throttled = function () {\n    const now = Date.now();\n    const passed = now - timestamp;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs);\n        }, threshold - passed);\n      }\n    }\n  };\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;","map":{"version":3,"names":["throttle","fn","freq","timestamp","threshold","lastArgs","timer","invoke","args","now","Date","clearTimeout","throttled","passed","setTimeout","flush"],"sources":["/Users/ellailao/Desktop/Frontend_training/Modern_React/ModernReact-Book/node_modules/axios/lib/helpers/throttle.js"],"sourcesContent":["/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,QAAT,CAAkBC,EAAlB,EAAsBC,IAAtB,EAA4B;EAC1B,IAAIC,SAAS,GAAG,CAAhB;EACA,IAAIC,SAAS,GAAG,OAAOF,IAAvB;EACA,IAAIG,QAAJ;EACA,IAAIC,KAAJ;;EAEA,MAAMC,MAAM,GAAG,UAACC,IAAD,EAA4B;IAAA,IAArBC,GAAqB,uEAAfC,IAAI,CAACD,GAAL,EAAe;IACzCN,SAAS,GAAGM,GAAZ;IACAJ,QAAQ,GAAG,IAAX;;IACA,IAAIC,KAAJ,EAAW;MACTK,YAAY,CAACL,KAAD,CAAZ;MACAA,KAAK,GAAG,IAAR;IACD;;IACDL,EAAE,CAAC,GAAGO,IAAJ,CAAF;EACD,CARD;;EAUA,MAAMI,SAAS,GAAG,YAAa;IAC7B,MAAMH,GAAG,GAAGC,IAAI,CAACD,GAAL,EAAZ;IACA,MAAMI,MAAM,GAAGJ,GAAG,GAAGN,SAArB;;IAF6B,kCAATK,IAAS;MAATA,IAAS;IAAA;;IAG7B,IAAKK,MAAM,IAAIT,SAAf,EAA0B;MACxBG,MAAM,CAACC,IAAD,EAAOC,GAAP,CAAN;IACD,CAFD,MAEO;MACLJ,QAAQ,GAAGG,IAAX;;MACA,IAAI,CAACF,KAAL,EAAY;QACVA,KAAK,GAAGQ,UAAU,CAAC,MAAM;UACvBR,KAAK,GAAG,IAAR;UACAC,MAAM,CAACF,QAAD,CAAN;QACD,CAHiB,EAGfD,SAAS,GAAGS,MAHG,CAAlB;MAID;IACF;EACF,CAdD;;EAgBA,MAAME,KAAK,GAAG,MAAMV,QAAQ,IAAIE,MAAM,CAACF,QAAD,CAAtC;;EAEA,OAAO,CAACO,SAAD,EAAYG,KAAZ,CAAP;AACD;;AAED,eAAef,QAAf"},"metadata":{},"sourceType":"module"}