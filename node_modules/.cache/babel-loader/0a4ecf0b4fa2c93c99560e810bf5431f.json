{"ast":null,"code":"var _jsxFileName = \"/Users/ellailao/Desktop/Frontend_training/Modern_React/ModernReact-Book/src/context/books.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BooksContext = /*#__PURE__*/createContext();\n\nfunction Provider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [books, setBooks] = useState([]);\n  const fetchBooks = useCallback(async () => {\n    const response = await axios.get('http://localhost:3001/books');\n    setBooks(response.data);\n  }, []);\n\n  const editBookId = async (id, newTitle) => {\n    const response = await axios.put(`http://localhost:3001/books/${id}`, {\n      title: newTitle\n    });\n    console.log(response);\n    const updatedBooks = books.map(book => {\n      if (book.id === id) {\n        return { ...book,\n          ...response.data\n        };\n      }\n\n      return book;\n    });\n    setBooks(updatedBooks);\n  };\n\n  const deleteBookbyId = async id => {\n    await axios.delete(`http://localhost:3001/books/${id}`);\n    const updatedBooks = books.filter(book => {\n      return book.id !== id;\n    });\n    setBooks(updatedBooks);\n  };\n\n  const createBook = async title => {\n    const response = await axios.post('http://localhost:3001/books', {\n      title\n    });\n    const updatedBooks = [...books, response.data];\n    setBooks(updatedBooks);\n  };\n\n  const valueToShare = {\n    books,\n    fetchBooks,\n    editBookId,\n    deleteBookbyId,\n    createBook\n  };\n  return /*#__PURE__*/_jsxDEV(BooksContext.Provider, {\n    value: valueToShare,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 10\n  }, this);\n}\n\n_s(Provider, \"pzlgl2+UFyz0XjrEfFB6dQ5SbKg=\");\n\n_c = Provider;\nexport { Provider };\nexport default BooksContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"names":["createContext","useState","useCallback","axios","BooksContext","Provider","children","books","setBooks","fetchBooks","response","get","data","editBookId","id","newTitle","put","title","console","log","updatedBooks","map","book","deleteBookbyId","delete","filter","createBook","post","valueToShare"],"sources":["/Users/ellailao/Desktop/Frontend_training/Modern_React/ModernReact-Book/src/context/books.js"],"sourcesContent":["import { createContext, useState, useCallback } from \"react\";\nimport axios from \"axios\";\n\nconst BooksContext = createContext();\n\nfunction Provider({ children }) {\n\n  const [books, setBooks] = useState([]);\n  \n    const fetchBooks = useCallback(async () => {\n      const response = await axios.get('http://localhost:3001/books');\n  \n      setBooks(response.data);\n    }, []);\n\n\n    const editBookId = async (id, newTitle) => {\n    const response = await axios.put(`http://localhost:3001/books/${id}`, {\n      title:newTitle\n    });\n\n    console.log(response);\n\n    const updatedBooks = books.map((book) => {\n      if (book.id === id) {\n        return {...book, ...response.data};\n      }\n\n      return book;\n    });\n\n    setBooks(updatedBooks);\n  };\n\n\n  const deleteBookbyId = async (id) => {\n    await axios.delete(`http://localhost:3001/books/${id}`);\n\n    const updatedBooks = books.filter((book) => {\n      return book.id !== id;\n    });\n    setBooks(updatedBooks);\n  };\n\n  const createBook = async (title) => {\n\n    const response = await axios.post('http://localhost:3001/books', {\n      title\n    });\n\n    const updatedBooks = [  \n      ...books, \n      response.data\n    ];\n    setBooks(updatedBooks);\n\n  };\n  \n  const valueToShare = {\n    books,\n    fetchBooks,\n    editBookId,\n    deleteBookbyId,\n    createBook\n  };\n\n  return <BooksContext.Provider value={valueToShare}>\n      {children}\n  </BooksContext.Provider>\n}\n\n\nexport { Provider };\nexport default BooksContext"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,EAAkCC,WAAlC,QAAqD,OAArD;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,YAAY,gBAAGJ,aAAa,EAAlC;;AAEA,SAASK,QAAT,OAAgC;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EAE9B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EAEE,MAAMQ,UAAU,GAAGP,WAAW,CAAC,YAAY;IACzC,MAAMQ,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,6BAAV,CAAvB;IAEAH,QAAQ,CAACE,QAAQ,CAACE,IAAV,CAAR;EACD,CAJ6B,EAI3B,EAJ2B,CAA9B;;EAOA,MAAMC,UAAU,GAAG,OAAOC,EAAP,EAAWC,QAAX,KAAwB;IAC3C,MAAML,QAAQ,GAAG,MAAMP,KAAK,CAACa,GAAN,CAAW,+BAA8BF,EAAG,EAA5C,EAA+C;MACpEG,KAAK,EAACF;IAD8D,CAA/C,CAAvB;IAIAG,OAAO,CAACC,GAAR,CAAYT,QAAZ;IAEA,MAAMU,YAAY,GAAGb,KAAK,CAACc,GAAN,CAAWC,IAAD,IAAU;MACvC,IAAIA,IAAI,CAACR,EAAL,KAAYA,EAAhB,EAAoB;QAClB,OAAO,EAAC,GAAGQ,IAAJ;UAAU,GAAGZ,QAAQ,CAACE;QAAtB,CAAP;MACD;;MAED,OAAOU,IAAP;IACD,CANoB,CAArB;IAQAd,QAAQ,CAACY,YAAD,CAAR;EACD,CAhBC;;EAmBF,MAAMG,cAAc,GAAG,MAAOT,EAAP,IAAc;IACnC,MAAMX,KAAK,CAACqB,MAAN,CAAc,+BAA8BV,EAAG,EAA/C,CAAN;IAEA,MAAMM,YAAY,GAAGb,KAAK,CAACkB,MAAN,CAAcH,IAAD,IAAU;MAC1C,OAAOA,IAAI,CAACR,EAAL,KAAYA,EAAnB;IACD,CAFoB,CAArB;IAGAN,QAAQ,CAACY,YAAD,CAAR;EACD,CAPD;;EASA,MAAMM,UAAU,GAAG,MAAOT,KAAP,IAAiB;IAElC,MAAMP,QAAQ,GAAG,MAAMP,KAAK,CAACwB,IAAN,CAAW,6BAAX,EAA0C;MAC/DV;IAD+D,CAA1C,CAAvB;IAIA,MAAMG,YAAY,GAAG,CACnB,GAAGb,KADgB,EAEnBG,QAAQ,CAACE,IAFU,CAArB;IAIAJ,QAAQ,CAACY,YAAD,CAAR;EAED,CAZD;;EAcA,MAAMQ,YAAY,GAAG;IACnBrB,KADmB;IAEnBE,UAFmB;IAGnBI,UAHmB;IAInBU,cAJmB;IAKnBG;EALmB,CAArB;EAQA,oBAAO,QAAC,YAAD,CAAc,QAAd;IAAuB,KAAK,EAAEE,YAA9B;IAAA,UACFtB;EADE;IAAA;IAAA;IAAA;EAAA,QAAP;AAGD;;GAhEQD,Q;;KAAAA,Q;AAmET,SAASA,QAAT;AACA,eAAeD,YAAf"},"metadata":{},"sourceType":"module"}